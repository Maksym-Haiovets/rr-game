{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://trading-risk-game-ts/./client/src/modules/profitGrades.ts","webpack://trading-risk-game-ts/./client/src/modules/tutorial.ts","webpack://trading-risk-game-ts/./client/src/utils/api.ts","webpack://trading-risk-game-ts/./client/src/utils/toast.ts","webpack://trading-risk-game-ts/webpack/bootstrap","webpack://trading-risk-game-ts/./client/src/script.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PROFIT_GRADES = void 0;\nexports.getCurrentGrade = getCurrentGrade;\nexports.updateProfitGradeDisplay = updateProfitGradeDisplay;\nexports.PROFIT_GRADES = [\n    {\n        label: '–ë–µ–∑–∑–±–∏—Ç–∫–æ–≤—ñ—Å—Ç—å',\n        profitPct: 0,\n        takes: 5,\n        stops: 10,\n        winRate: 33.3,\n        className: 'grade-breakeven',\n        description: '5 —Ç–µ–π–∫—ñ–≤ + 10 —Å—Ç–æ–ø—ñ–≤ = 0% –ø—Ä–∏–±—É—Ç–∫—É'\n    },\n    {\n        label: '–õ–µ–≥–∫–∏–π –ø—Ä–∏–±—É—Ç–æ–∫',\n        profitPct: 3,\n        takes: 6,\n        stops: 9,\n        winRate: 40,\n        className: 'grade-light',\n        description: '6 —Ç–µ–π–∫—ñ–≤ + 9 —Å—Ç–æ–ø—ñ–≤ = 3% –ø—Ä–∏–±—É—Ç–∫—É'\n    },\n    {\n        label: '–•–æ—Ä–æ—à–∏–π –ø—Ä–∏–±—É—Ç–æ–∫',\n        profitPct: 6,\n        takes: 7,\n        stops: 8,\n        winRate: 46.7,\n        className: 'grade-good',\n        description: '7 —Ç–µ–π–∫—ñ–≤ + 8 —Å—Ç–æ–ø—ñ–≤ = 6% –ø—Ä–∏–±—É—Ç–∫—É'\n    },\n    {\n        label: '–í—ñ–¥–º—ñ–Ω–Ω–∏–π –ø—Ä–∏–±—É—Ç–æ–∫',\n        profitPct: 9,\n        takes: 8,\n        stops: 7,\n        winRate: 53.3,\n        className: 'grade-excellent',\n        description: '8 —Ç–µ–π–∫—ñ–≤ + 7 —Å—Ç–æ–ø—ñ–≤ = 9% –ø—Ä–∏–±—É—Ç–∫—É'\n    },\n    {\n        label: '–ß—É–¥–æ–≤–∏–π –ø—Ä–∏–±—É—Ç–æ–∫',\n        profitPct: 12,\n        takes: 9,\n        stops: 6,\n        winRate: 60,\n        className: 'grade-amazing',\n        description: '9 —Ç–µ–π–∫—ñ–≤ + 6 —Å—Ç–æ–ø—ñ–≤ = 12% –ø—Ä–∏–±—É—Ç–∫—É'\n    }\n];\nfunction getCurrentGrade(takes, stops, profit) {\n    // –°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Ç–æ—á–Ω—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó\n    const exactMatch = exports.PROFIT_GRADES.find(g => g.takes === takes && g.stops === stops);\n    if (exactMatch) {\n        return exactMatch;\n    }\n    // –Ø–∫—â–æ –Ω–µ–º–∞—î —Ç–æ—á–Ω–æ–≥–æ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è, –∑–Ω–∞—Ö–æ–¥–∏–º–æ –Ω–∞–π–±–ª–∏–∂—á—É –Ω–∏–∂–Ω—é –≥—Ä–∞–¥–∞—Ü—ñ—é –∑–∞ –ø—Ä–∏–±—É—Ç–∫–æ–º\n    for (let i = exports.PROFIT_GRADES.length - 1; i >= 0; i--) {\n        if (profit >= exports.PROFIT_GRADES[i].profitPct) {\n            return exports.PROFIT_GRADES[i];\n        }\n    }\n    return null;\n}\nfunction updateProfitGradeDisplay(takes, stops, profit) {\n    const container = document.getElementById('profit-grades-list');\n    const currentLevelElement = document.getElementById('current-level');\n    container.innerHTML = '';\n    const currentGrade = getCurrentGrade(takes, stops, profit);\n    exports.PROFIT_GRADES.forEach(grade => {\n        const gradeElement = document.createElement('div');\n        gradeElement.className = `profit-grade-item ${grade.className}`;\n        // –í–∏–∑–Ω–∞—á–∞—î–º–æ —á–∏ –¥–æ—Å—è–≥–Ω—É—Ç–æ —Ü–µ–π —Ä—ñ–≤–µ–Ω—å\n        const isAchieved = profit >= grade.profitPct;\n        const isCurrent = currentGrade && currentGrade.profitPct === grade.profitPct;\n        if (isAchieved) {\n            gradeElement.classList.add('achieved');\n        }\n        if (isCurrent) {\n            gradeElement.classList.add('current');\n        }\n        gradeElement.innerHTML = `\n            <div class=\"grade-header\">\n                <div class=\"grade-title\">${grade.label}</div>\n                <div class=\"grade-percentage\">${grade.profitPct}%</div>\n            </div>\n            <div class=\"grade-requirement\">${grade.description}</div>\n            <div class=\"grade-winrate\">–ü–æ—Ç—Ä—ñ–±–Ω–∏–π win-rate: ${grade.winRate}%</div>\n        `;\n        container.appendChild(gradeElement);\n    });\n    // –û–Ω–æ–≤–ª—é—î–º–æ –ø–æ—Ç–æ—á–Ω–∏–π —Ä—ñ–≤–µ–Ω—å\n    if (currentGrade) {\n        currentLevelElement.innerHTML = `\n            <div class=\"current-level-title\">–ü–æ—Ç–æ—á–Ω–∏–π —Ä—ñ–≤–µ–Ω—å: ${currentGrade.label}</div>\n        `;\n        currentLevelElement.className = `current-level-display ${currentGrade.className}`;\n    }\n    else {\n        currentLevelElement.innerHTML = `\n            <div class=\"current-level-title\">–ü–æ—Ç–æ—á–Ω–∏–π —Ä—ñ–≤–µ–Ω—å: –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å</div>\n        `;\n        currentLevelElement.className = 'current-level-display initial';\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tutorialManager = void 0;\nexports.tutorialManager = {\n    start() {\n        console.log('üéì –¢—É—Ç–æ—Ä—ñ–∞–ª –∑–∞–ø—É—â–µ–Ω–æ');\n        // –¢—É—Ç –º–æ–∂–µ –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–∫—Ä–æ–∫–æ–≤–æ–≥–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª—É\n        alert('üéì –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ –≥—Ä–∏ –†–∏–∑–∏–∫-–ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç—É!\\n\\n–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–ª—ñ–∫–∞—Ç–∏ –ø–æ –ø–æ–∑–∏—Ü—ñ—è—Ö, —â–æ–± –≤—ñ–¥–º—ñ—á–∞—Ç–∏ —ó—Ö —è–∫ —Ç–µ–π–∫–∏ (–ø—Ä–∏–±—É—Ç–∫–æ–≤—ñ) –∞–±–æ —Å—Ç–æ–ø–∏ (–∑–±–∏—Ç–∫–æ–≤—ñ).\\n\\n–¶—ñ–ª—å - –¥–æ—Å—è–≥—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –≥—Ä–∞–¥–∞—Ü—ñ—ó –ø—Ä–∏–±—É—Ç–∫—É!');\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.get = get;\nexports.post = post;\nexports.put = put;\nasync function get(url) {\n    const response = await fetch(url);\n    const data = await response.json();\n    if (!data.success) {\n        throw new Error(data.error || 'API Error');\n    }\n    return data.data;\n}\nasync function post(url, body) {\n    const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n    });\n    const data = await response.json();\n    if (!data.success) {\n        throw new Error(data.error || 'API Error');\n    }\n    return data.data;\n}\nasync function put(url, body) {\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n    });\n    const data = await response.json();\n    if (!data.success) {\n        throw new Error(data.error || 'API Error');\n    }\n    return data.data;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.showToast = showToast;\nfunction showToast(message, type = 'success') {\n    const container = document.getElementById('toast-container');\n    const toast = document.createElement('div');\n    toast.className = `toast ${type}`;\n    toast.textContent = message;\n    container.appendChild(toast);\n    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏\n    setTimeout(() => {\n        toast.style.animation = 'toastSlideOut 0.3s ease';\n        setTimeout(() => {\n            if (toast.parentNode) {\n                toast.parentNode.removeChild(toast);\n            }\n        }, 300);\n    }, 3000);\n}\n// –î–æ–¥–∞—î–º–æ —Å—Ç–∏–ª—ñ –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó –≤–∏—Ö–æ–¥—É\nif (!document.getElementById('toast-animation-styles')) {\n    const style = document.createElement('style');\n    style.id = 'toast-animation-styles';\n    style.textContent = `\n        @keyframes toastSlideOut {\n            from {\n                transform: translateX(0);\n                opacity: 1;\n            }\n            to {\n                transform: translateX(100%);\n                opacity: 0;\n            }\n        }\n    `;\n    document.head.appendChild(style);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst api_1 = require(\"./utils/api\");\nconst toast_1 = require(\"./utils/toast\");\nconst profitGrades_1 = require(\"./modules/profitGrades\");\nconst tutorial_1 = require(\"./modules/tutorial\");\nclass RiskManagementGame {\n    constructor() {\n        this.gameState = {\n            positions: [],\n            settings: {\n                id: 1,\n                risk_per_position: 1.0,\n                reward_ratio: 2.0,\n                tutorial_completed: false,\n                tutorial_skipped_forever: false\n            },\n            stats: {\n                takes: 0,\n                stops: 0,\n                profit: 0,\n                winRate: 0\n            }\n        };\n    }\n    async init() {\n        try {\n            await this.loadGameState();\n            this.setupUI();\n            this.checkTutorial();\n            console.log('‚úÖ –ì—Ä–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —É—Å–ø—ñ—à–Ω–æ');\n        }\n        catch (error) {\n            console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥—Ä–∏:', error);\n            (0, toast_1.showToast)('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≥—Ä–∏', 'error');\n        }\n    }\n    async loadGameState() {\n        try {\n            // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –¥–∞–Ω—ñ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ\n            const [positions, settings] = await Promise.all([\n                (0, api_1.get)('/api/positions'),\n                (0, api_1.get)('/api/settings')\n            ]);\n            //@ts-ignore\n            this.gameState.positions = positions;\n            //@ts-ignore\n            this.gameState.settings = settings;\n            this.calculateStats();\n        }\n        catch (error) {\n            console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –≥—Ä–∏:', error);\n            throw error;\n        }\n    }\n    setupUI() {\n        this.createPositionsGrid();\n        this.updateStatsDisplay();\n        this.updateSettingsUI();\n        this.setupEventListeners();\n    }\n    createPositionsGrid() {\n        const grid = document.getElementById('positions-grid');\n        grid.innerHTML = '';\n        this.gameState.positions.forEach(position => {\n            const card = document.createElement('div');\n            card.className = `position-card ${position.result}`;\n            card.textContent = position.id.toString();\n            card.dataset.id = position.id.toString();\n            card.addEventListener('click', () => this.handlePositionClick(position.id));\n            grid.appendChild(card);\n        });\n    }\n    async handlePositionClick(positionId) {\n        try {\n            const position = this.gameState.positions.find(p => p.id === positionId);\n            if (!position)\n                return;\n            // –¶–∏–∫–ª—ñ—á–Ω–µ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Å—Ç–∞–Ω—ñ–≤\n            const states = ['none', 'take', 'stop'];\n            const currentIndex = states.indexOf(position.result);\n            const nextState = states[(currentIndex + 1) % states.length];\n            // –û–Ω–æ–≤–ª—é—î–º–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ\n            await (0, api_1.put)(`/api/positions/${positionId}`, { result: nextState });\n            // –û–Ω–æ–≤–ª—é—î–º–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω\n            position.result = nextState;\n            // –û–Ω–æ–≤–ª—é—î–º–æ UI\n            const card = document.querySelector(`[data-id=\"${positionId}\"]`);\n            card.className = `position-card ${nextState}`;\n            // –ü–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î–º–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É\n            this.calculateStats();\n            this.updateStatsDisplay();\n        }\n        catch (error) {\n            console.error('–ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ—ó:', error);\n            (0, toast_1.showToast)('–ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ—ó', 'error');\n        }\n    }\n    calculateStats() {\n        const takes = this.gameState.positions.filter(p => p.result === 'take').length;\n        const stops = this.gameState.positions.filter(p => p.result === 'stop').length;\n        const totalPositions = takes + stops;\n        // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—Ä–∏–±—É—Ç–∫—É: —Ç–µ–π–∫–∏ –¥–∞—é—Ç—å +RR%, —Å—Ç–æ–ø–∏ –¥–∞—é—Ç—å -1%\n        const profit = (takes * this.gameState.settings.reward_ratio) + (stops * -1);\n        const winRate = totalPositions > 0 ? (takes / totalPositions) * 100 : 0;\n        this.gameState.stats = {\n            takes,\n            stops,\n            profit: parseFloat(profit.toFixed(1)),\n            winRate: parseFloat(winRate.toFixed(1))\n        };\n    }\n    updateStatsDisplay() {\n        document.getElementById('takes-count').textContent = this.gameState.stats.takes.toString();\n        document.getElementById('stops-count').textContent = this.gameState.stats.stops.toString();\n        document.getElementById('profit-pct').textContent = `${this.gameState.stats.profit}%`;\n        document.getElementById('win-rate').textContent = `${this.gameState.stats.winRate}%`;\n        // –û–Ω–æ–≤–ª—é—î–º–æ –≥—Ä–∞–¥–∞—Ü—ñ—ó –ø—Ä–∏–±—É—Ç–∫—É\n        (0, profitGrades_1.updateProfitGradeDisplay)(this.gameState.stats.takes, this.gameState.stats.stops, this.gameState.stats.profit);\n        // –û–Ω–æ–≤–ª—é—î–º–æ –º–æ—Ç–∏–≤–∞—Ü—ñ–π–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è\n        this.updateMotivationMessage();\n    }\n    updateMotivationMessage() {\n        const msgEl = document.getElementById('motivation-msg');\n        const { takes, stops, profit } = this.gameState.stats;\n        if (takes === 0 && stops === 0) {\n            msgEl.textContent = '–ü–æ—á–Ω—ñ—Ç—å —Ç–æ—Ä–≥—É–≤–∞—Ç–∏, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏!';\n        }\n        else if (profit === 0 && takes === 5 && stops === 10) {\n            msgEl.textContent = '‚öñÔ∏è –Ü–¥–µ–∞–ª—å–Ω–∞ –±–µ–∑–∑–±–∏—Ç–∫–æ–≤—ñ—Å—Ç—å! –¢–µ–ø–µ—Ä —Å–ø—Ä–æ–±—É–π—Ç–µ –¥–æ—Å—è–≥—Ç–∏ –ø—Ä–∏–±—É—Ç–∫—É.';\n        }\n        else if (profit > 0) {\n            msgEl.textContent = `üí∞ –ß—É–¥–æ–≤–æ! –í–∏ –≤ –ø—Ä–∏–±—É—Ç–∫—É ${profit}%. –ü—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ —É —Ç–æ–º—É –∂ –¥—É—Å—ñ!`;\n        }\n        else if (profit < 0) {\n            msgEl.textContent = 'üìâ –ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π—Ç–µ —á–µ—Ä–µ–∑ —Å—Ç–æ–ø–∏ - –≤–æ–Ω–∏ —á–∞—Å—Ç–∏–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó. –¢—Ä–µ–π–¥–∏–Ω–≥ - —Ü–µ –¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–∞ –≥—Ä–∞!';\n        }\n        else {\n            msgEl.textContent = '–ü—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ —Ç–æ—Ä–≥—É–≤–∞—Ç–∏, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Å–≤—ñ–π –ø—Ä–æ–≥—Ä–µ—Å!';\n        }\n    }\n    updateSettingsUI() {\n        document.getElementById('risk-input').value =\n            this.gameState.settings.risk_per_position.toString();\n        document.getElementById('reward-input').value =\n            this.gameState.settings.reward_ratio.toString();\n    }\n    setupEventListeners() {\n        // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å\n        document.getElementById('save-settings').addEventListener('click', async () => {\n            await this.saveSettings();\n        });\n        // –°–∫–∏–¥–∞–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ–π\n        document.getElementById('reset-positions').addEventListener('click', async () => {\n            await this.resetPositions();\n        });\n        // –ü–æ–∫–∞–∑–∞—Ç–∏ –≥–∞–π–¥\n        document.getElementById('show-guide-btn').addEventListener('click', () => {\n            tutorial_1.tutorialManager.start();\n        });\n        // –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª—É\n        document.getElementById('start-tutorial').addEventListener('click', () => {\n            this.hideTutorialModal();\n            tutorial_1.tutorialManager.start();\n        });\n        document.getElementById('skip-tutorial').addEventListener('click', () => {\n            this.hideTutorialModal();\n        });\n        document.getElementById('skip-forever').addEventListener('click', async () => {\n            try {\n                await (0, api_1.put)('/api/settings', { tutorial_skipped_forever: true });\n                this.gameState.settings.tutorial_skipped_forever = true;\n                this.hideTutorialModal();\n                (0, toast_1.showToast)('–¢—É—Ç–æ—Ä—ñ–∞–ª –≤—ñ–¥–∫–ª—é—á–µ–Ω–æ –Ω–∞–∑–∞–≤–∂–¥–∏', 'success');\n            }\n            catch (error) {\n                console.error('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —Ç—É—Ç–æ—Ä—ñ–∞–ª—É:', error);\n            }\n        });\n    }\n    async saveSettings() {\n        try {\n            const riskInput = document.getElementById('risk-input');\n            const rewardInput = document.getElementById('reward-input');\n            const risk = parseFloat(riskInput.value);\n            const reward = parseFloat(rewardInput.value);\n            if (risk < 0.1 || risk > 10) {\n                (0, toast_1.showToast)('–†–∏–∑–∏–∫ –º–∞—î –±—É—Ç–∏ –≤—ñ–¥ 0.1% –¥–æ 10%', 'error');\n                return;\n            }\n            if (reward < 1 || reward > 5) {\n                (0, toast_1.showToast)('–°–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è –ø—Ä–∏–±—É—Ç–∫—É –º–∞—î –±—É—Ç–∏ –≤—ñ–¥ 1 –¥–æ 5', 'error');\n                return;\n            }\n            await (0, api_1.put)('/api/settings', {\n                risk_per_position: risk,\n                reward_ratio: reward\n            });\n            this.gameState.settings.risk_per_position = risk;\n            this.gameState.settings.reward_ratio = reward;\n            // –ü–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î–º–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑ –Ω–æ–≤–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏\n            this.calculateStats();\n            this.updateStatsDisplay();\n            (0, toast_1.showToast)('–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ!', 'success');\n        }\n        catch (error) {\n            console.error('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å:', error);\n            (0, toast_1.showToast)('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å', 'error');\n        }\n    }\n    async resetPositions() {\n        try {\n            await (0, api_1.post)('/api/positions/reset', {});\n            // –û–Ω–æ–≤–ª—é—î–º–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω\n            this.gameState.positions.forEach(p => p.result = 'none');\n            this.createPositionsGrid();\n            this.calculateStats();\n            this.updateStatsDisplay();\n            (0, toast_1.showToast)('–í—Å—ñ –ø–æ–∑–∏—Ü—ñ—ó —Å–∫–∏–Ω—É—Ç—ñ!', 'success');\n        }\n        catch (error) {\n            console.error('–ü–æ–º–∏–ª–∫–∞ —Å–∫–∏–¥–∞–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ–π:', error);\n            (0, toast_1.showToast)('–ü–æ–º–∏–ª–∫–∞ —Å–∫–∏–¥–∞–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ–π', 'error');\n        }\n    }\n    checkTutorial() {\n        if (!this.gameState.settings.tutorial_completed &&\n            !this.gameState.settings.tutorial_skipped_forever) {\n            this.showTutorialModal();\n        }\n    }\n    showTutorialModal() {\n        const modal = document.getElementById('tutorial-modal');\n        modal.classList.add('show');\n    }\n    hideTutorialModal() {\n        const modal = document.getElementById('tutorial-modal');\n        modal.classList.remove('show');\n    }\n}\n// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≥—Ä–∏ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è DOM\ndocument.addEventListener('DOMContentLoaded', () => {\n    const game = new RiskManagementGame();\n    game.init();\n});\n"],"names":["getCurrentGrade","takes","stops","profit","exactMatch","exports","PROFIT_GRADES","find","g","i","length","profitPct","Object","defineProperty","value","updateProfitGradeDisplay","container","document","getElementById","currentLevelElement","innerHTML","currentGrade","forEach","grade","gradeElement","createElement","className","isAchieved","isCurrent","classList","add","label","description","winRate","appendChild","tutorialManager","start","console","log","alert","get","async","url","response","fetch","data","json","success","Error","error","post","body","method","headers","JSON","stringify","put","showToast","message","type","toast","textContent","setTimeout","style","animation","parentNode","removeChild","id","head","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","api_1","toast_1","profitGrades_1","tutorial_1","RiskManagementGame","constructor","this","gameState","positions","settings","risk_per_position","reward_ratio","tutorial_completed","tutorial_skipped_forever","stats","init","loadGameState","setupUI","checkTutorial","Promise","all","calculateStats","createPositionsGrid","updateStatsDisplay","updateSettingsUI","setupEventListeners","grid","position","card","result","toString","dataset","addEventListener","handlePositionClick","positionId","p","states","currentIndex","indexOf","nextState","querySelector","filter","totalPositions","parseFloat","toFixed","updateMotivationMessage","msgEl","saveSettings","resetPositions","hideTutorialModal","riskInput","rewardInput","risk","reward","showTutorialModal","remove"],"sourceRoot":""}