{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://trading-risk-game-ts/./client/src/modules/profitGrades.ts","webpack://trading-risk-game-ts/./client/src/modules/tutorial.ts","webpack://trading-risk-game-ts/./client/src/utils/api.ts","webpack://trading-risk-game-ts/./client/src/utils/toast.ts","webpack://trading-risk-game-ts/webpack/bootstrap","webpack://trading-risk-game-ts/./client/src/script.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PROFIT_GRADES = void 0;\nexports.getCurrentGrade = getCurrentGrade;\nexports.updateProfitGradeDisplay = updateProfitGradeDisplay;\nexports.PROFIT_GRADES = [\n    {\n        label: 'Беззбитковість',\n        profitPct: 0,\n        takes: 5,\n        stops: 10,\n        winRate: 33.3,\n        className: 'grade-breakeven',\n        description: '5 тейків + 10 стопів = 0% прибутку'\n    },\n    {\n        label: 'Легкий прибуток',\n        profitPct: 3,\n        takes: 6,\n        stops: 9,\n        winRate: 40,\n        className: 'grade-light',\n        description: '6 тейків + 9 стопів = 3% прибутку'\n    },\n    {\n        label: 'Хороший прибуток',\n        profitPct: 6,\n        takes: 7,\n        stops: 8,\n        winRate: 46.7,\n        className: 'grade-good',\n        description: '7 тейків + 8 стопів = 6% прибутку'\n    },\n    {\n        label: 'Відмінний прибуток',\n        profitPct: 9,\n        takes: 8,\n        stops: 7,\n        winRate: 53.3,\n        className: 'grade-excellent',\n        description: '8 тейків + 7 стопів = 9% прибутку'\n    },\n    {\n        label: 'Чудовий прибуток',\n        profitPct: 12,\n        takes: 9,\n        stops: 6,\n        winRate: 60,\n        className: 'grade-amazing',\n        description: '9 тейків + 6 стопів = 12% прибутку'\n    }\n];\nfunction getCurrentGrade(takes, stops, profit) {\n    // Спочатку перевіряємо точні комбінації\n    const exactMatch = exports.PROFIT_GRADES.find(g => g.takes === takes && g.stops === stops);\n    if (exactMatch) {\n        return exactMatch;\n    }\n    // Якщо немає точного співпадіння, знаходимо найближчу нижню градацію за прибутком\n    for (let i = exports.PROFIT_GRADES.length - 1; i >= 0; i--) {\n        if (profit >= exports.PROFIT_GRADES[i].profitPct) {\n            return exports.PROFIT_GRADES[i];\n        }\n    }\n    return null;\n}\nfunction updateProfitGradeDisplay(takes, stops, profit) {\n    const container = document.getElementById('profit-grades-list');\n    const currentLevelElement = document.getElementById('current-level');\n    container.innerHTML = '';\n    const currentGrade = getCurrentGrade(takes, stops, profit);\n    exports.PROFIT_GRADES.forEach(grade => {\n        const gradeElement = document.createElement('div');\n        gradeElement.className = `profit-grade-item ${grade.className}`;\n        // Визначаємо чи досягнуто цей рівень\n        const isAchieved = profit >= grade.profitPct;\n        const isCurrent = currentGrade && currentGrade.profitPct === grade.profitPct;\n        if (isAchieved) {\n            gradeElement.classList.add('achieved');\n        }\n        if (isCurrent) {\n            gradeElement.classList.add('current');\n        }\n        gradeElement.innerHTML = `\n      <div class=\"grade-header\">\n        <span class=\"grade-title\">${grade.label}</span>\n        <span class=\"grade-percentage\">${grade.profitPct}%</span>\n      </div>\n      <div class=\"grade-requirement\">${grade.description}</div>\n      <div class=\"grade-winrate\">Потрібний win-rate: ${grade.winRate}%</div>\n    `;\n        container.appendChild(gradeElement);\n    });\n    // Оновлюємо поточний рівень\n    if (currentGrade) {\n        currentLevelElement.innerHTML = `\n      Поточний рівень: ${currentGrade.label}\n    `;\n        currentLevelElement.className = `current-level-display ${currentGrade.className}`;\n    }\n    else {\n        currentLevelElement.innerHTML = `\n      Поточний рівень: Початковий рівень\n    `;\n        currentLevelElement.className = 'current-level-display initial';\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tutorialManager = void 0;\nexports.tutorialManager = {\n    start() {\n        console.log('🎓 Туторіал запущено');\n        // Тут може бути реалізація покрокового туторіалу\n        alert('🎓 Ласкаво просимо до гри Ризик-Менеджменту!\\n\\nВам потрібно клікати по позиціях, щоб відмічати їх як тейки (прибуткові) або стопи (збиткові).\\n\\nЦіль - досягти максимального рівня градації прибутку!');\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.get = get;\nexports.post = post;\nexports.put = put;\nasync function get(url) {\n    const response = await fetch(url);\n    const data = await response.json();\n    if (!data.success) {\n        throw new Error(data.error || 'API Error');\n    }\n    return data.data;\n}\nasync function post(url, body) {\n    const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n    });\n    const data = await response.json();\n    if (!data.success) {\n        throw new Error(data.error || 'API Error');\n    }\n    return data.data;\n}\nasync function put(url, body) {\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n    });\n    const data = await response.json();\n    if (!data.success) {\n        throw new Error(data.error || 'API Error');\n    }\n    return data.data;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.showToast = showToast;\nfunction showToast(message, type = 'success') {\n    const container = document.getElementById('toast-container');\n    const toast = document.createElement('div');\n    toast.className = `toast ${type}`;\n    toast.textContent = message;\n    container.appendChild(toast);\n    // Автоматичне видалення через 3 секунди\n    setTimeout(() => {\n        toast.style.animation = 'toastSlideOut 0.3s ease';\n        setTimeout(() => {\n            if (toast.parentNode) {\n                toast.parentNode.removeChild(toast);\n            }\n        }, 300);\n    }, 3000);\n}\n// Додаємо стилі для анімації виходу\nif (!document.getElementById('toast-animation-styles')) {\n    const style = document.createElement('style');\n    style.id = 'toast-animation-styles';\n    style.textContent = `\n    @keyframes toastSlideOut {\n      from {\n        transform: translateX(0);\n        opacity: 1;\n      }\n      to {\n        transform: translateX(100%);\n        opacity: 0;\n      }\n    }\n  `;\n    document.head.appendChild(style);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst api_1 = require(\"./utils/api\");\nconst toast_1 = require(\"./utils/toast\");\nconst profitGrades_1 = require(\"./modules/profitGrades\");\nconst tutorial_1 = require(\"./modules/tutorial\");\nclass RiskManagementGame {\n    constructor() {\n        this.gameState = {\n            positions: [],\n            settings: {\n                id: 1,\n                risk_per_position: 1.0,\n                reward_ratio: 2.0,\n                tutorial_completed: false,\n                tutorial_skipped_forever: false\n            },\n            stats: {\n                takes: 0,\n                stops: 0,\n                profit: 0,\n                winRate: 0\n            }\n        };\n    }\n    async init() {\n        try {\n            // Initialize theme\n            this.initTheme();\n            await this.loadGameState();\n            this.setupUI();\n            this.checkTutorial();\n            console.log('✅ Гра ініціалізована успішно');\n        }\n        catch (error) {\n            console.error('❌ Помилка ініціалізації гри:', error);\n            (0, toast_1.showToast)('Помилка завантаження гри', 'error');\n        }\n    }\n    initTheme() {\n        const savedTheme = localStorage.getItem('theme') || 'light';\n        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n        const theme = savedTheme === 'auto' ? (systemPrefersDark ? 'dark' : 'light') : savedTheme;\n        document.documentElement.setAttribute('data-theme', theme);\n        this.updateThemeToggle(theme);\n    }\n    toggleTheme() {\n        const currentTheme = document.documentElement.getAttribute('data-theme');\n        const newTheme = currentTheme === 'light' ? 'dark' : 'light';\n        document.documentElement.setAttribute('data-theme', newTheme);\n        localStorage.setItem('theme', newTheme);\n        this.updateThemeToggle(newTheme);\n    }\n    updateThemeToggle(theme) {\n        const toggle = document.getElementById('theme-toggle');\n        if (toggle) {\n            toggle.innerHTML = theme === 'light' ? '🌙' : '☀️';\n            toggle.setAttribute('aria-label', theme === 'light' ? 'Switch to dark mode' : 'Switch to light mode');\n        }\n    }\n    async loadGameState() {\n        try {\n            // Завантажуємо дані паралельно\n            const [positions, settings] = await Promise.all([\n                (0, api_1.get)('/api/positions'),\n                (0, api_1.get)('/api/settings')\n            ]);\n            //@ts-ignore\n            this.gameState.positions = positions;\n            //@ts-ignore\n            this.gameState.settings = settings;\n            this.calculateStats();\n        }\n        catch (error) {\n            console.error('Помилка завантаження стану гри:', error);\n            throw error;\n        }\n    }\n    setupUI() {\n        this.createPositionsGrid();\n        this.updateStatsDisplay();\n        this.updateSettingsUI();\n        this.setupEventListeners();\n    }\n    createPositionsGrid() {\n        const grid = document.getElementById('positions-grid');\n        grid.innerHTML = '';\n        this.gameState.positions.forEach(position => {\n            const card = document.createElement('div');\n            card.className = `position-card ${position.result}`;\n            card.textContent = position.id.toString();\n            card.dataset.id = position.id.toString();\n            card.addEventListener('click', () => this.handlePositionClick(position.id));\n            grid.appendChild(card);\n        });\n    }\n    async handlePositionClick(positionId) {\n        try {\n            const position = this.gameState.positions.find(p => p.id === positionId);\n            if (!position)\n                return;\n            // Циклічне перемикання станів\n            const states = ['none', 'take', 'stop'];\n            const currentIndex = states.indexOf(position.result);\n            const nextState = states[(currentIndex + 1) % states.length];\n            // Оновлюємо на сервері\n            await (0, api_1.put)(`/api/positions/${positionId}`, { result: nextState });\n            // Оновлюємо локальний стан\n            position.result = nextState;\n            // Оновлюємо UI\n            const card = document.querySelector(`[data-id=\"${positionId}\"]`);\n            card.className = `position-card ${nextState}`;\n            // Перераховуємо статистику\n            this.calculateStats();\n            this.updateStatsDisplay();\n        }\n        catch (error) {\n            console.error('Помилка оновлення позиції:', error);\n            (0, toast_1.showToast)('Помилка оновлення позиції', 'error');\n        }\n    }\n    calculateStats() {\n        const takes = this.gameState.positions.filter(p => p.result === 'take').length;\n        const stops = this.gameState.positions.filter(p => p.result === 'stop').length;\n        const totalPositions = takes + stops;\n        // Розрахунок прибутку: тейки дають +RR%, стопи дають -1%\n        const profit = (takes * this.gameState.settings.reward_ratio) + (stops * -1);\n        const winRate = totalPositions > 0 ? (takes / totalPositions) * 100 : 0;\n        this.gameState.stats = {\n            takes,\n            stops,\n            profit: parseFloat(profit.toFixed(1)),\n            winRate: parseFloat(winRate.toFixed(1))\n        };\n    }\n    updateStatsDisplay() {\n        document.getElementById('takes-count').textContent = this.gameState.stats.takes.toString();\n        document.getElementById('stops-count').textContent = this.gameState.stats.stops.toString();\n        document.getElementById('profit-pct').textContent = `${this.gameState.stats.profit}%`;\n        document.getElementById('win-rate').textContent = `${this.gameState.stats.winRate}%`;\n        // Оновлюємо градації прибутку\n        (0, profitGrades_1.updateProfitGradeDisplay)(this.gameState.stats.takes, this.gameState.stats.stops, this.gameState.stats.profit);\n        // Оновлюємо мотиваційне повідомлення\n        this.updateMotivationMessage();\n    }\n    updateMotivationMessage() {\n        const msgEl = document.getElementById('motivation-msg');\n        const { takes, stops, profit } = this.gameState.stats;\n        if (takes === 0 && stops === 0) {\n            msgEl.textContent = 'Почніть торгувати, щоб побачити результати!';\n        }\n        else if (profit === 0 && takes === 5 && stops === 10) {\n            msgEl.textContent = '⚖️ Ідеальна беззбитковість! Тепер спробуйте досягти прибутку.';\n        }\n        else if (profit > 0) {\n            msgEl.textContent = `💰 Чудово! Ви в прибутку ${profit}%. Продовжуйте у тому ж дусі!`;\n        }\n        else if (profit < 0) {\n            msgEl.textContent = '📉 Не переживайте через стопи - вони частина стратегії. Трейдинг - це довгострокова гра!';\n        }\n        else {\n            msgEl.textContent = 'Продовжуйте торгувати, щоб побачити свій прогрес!';\n        }\n    }\n    updateSettingsUI() {\n        document.getElementById('risk-input').value =\n            this.gameState.settings.risk_per_position.toString();\n        document.getElementById('reward-input').value =\n            this.gameState.settings.reward_ratio.toString();\n    }\n    setupEventListeners() {\n        // Theme toggle\n        document.getElementById('theme-toggle')?.addEventListener('click', () => {\n            this.toggleTheme();\n        });\n        // Збереження налаштувань\n        document.getElementById('save-settings').addEventListener('click', async () => {\n            await this.saveSettings();\n        });\n        // Скидання позицій\n        document.getElementById('reset-positions').addEventListener('click', async () => {\n            await this.resetPositions();\n        });\n        // Показати гайд\n        document.getElementById('show-guide-btn').addEventListener('click', () => {\n            tutorial_1.tutorialManager.start();\n        });\n        // Модальне вікно туторіалу\n        document.getElementById('start-tutorial').addEventListener('click', () => {\n            this.hideTutorialModal();\n            tutorial_1.tutorialManager.start();\n        });\n        document.getElementById('skip-tutorial').addEventListener('click', () => {\n            this.hideTutorialModal();\n        });\n        document.getElementById('skip-forever').addEventListener('click', async () => {\n            try {\n                await (0, api_1.put)('/api/settings', { tutorial_skipped_forever: true });\n                this.gameState.settings.tutorial_skipped_forever = true;\n                this.hideTutorialModal();\n                (0, toast_1.showToast)('Туторіал відключено назавжди', 'success');\n            }\n            catch (error) {\n                console.error('Помилка збереження налаштувань туторіалу:', error);\n            }\n        });\n    }\n    async saveSettings() {\n        try {\n            const riskInput = document.getElementById('risk-input');\n            const rewardInput = document.getElementById('reward-input');\n            const risk = parseFloat(riskInput.value);\n            const reward = parseFloat(rewardInput.value);\n            if (risk < 0.1 || risk > 10) {\n                (0, toast_1.showToast)('Ризик має бути від 0.1% до 10%', 'error');\n                return;\n            }\n            if (reward < 1 || reward > 5) {\n                (0, toast_1.showToast)('Співвідношення прибутку має бути від 1 до 5', 'error');\n                return;\n            }\n            await (0, api_1.put)('/api/settings', {\n                risk_per_position: risk,\n                reward_ratio: reward\n            });\n            this.gameState.settings.risk_per_position = risk;\n            this.gameState.settings.reward_ratio = reward;\n            // Перераховуємо статистику з новими налаштуваннями\n            this.calculateStats();\n            this.updateStatsDisplay();\n            (0, toast_1.showToast)('Налаштування збережено!', 'success');\n        }\n        catch (error) {\n            console.error('Помилка збереження налаштувань:', error);\n            (0, toast_1.showToast)('Помилка збереження налаштувань', 'error');\n        }\n    }\n    async resetPositions() {\n        try {\n            await (0, api_1.post)('/api/positions/reset', {});\n            // Оновлюємо локальний стан\n            this.gameState.positions.forEach(p => p.result = 'none');\n            this.createPositionsGrid();\n            this.calculateStats();\n            this.updateStatsDisplay();\n            (0, toast_1.showToast)('Всі позиції скинуті!', 'success');\n        }\n        catch (error) {\n            console.error('Помилка скидання позицій:', error);\n            (0, toast_1.showToast)('Помилка скидання позицій', 'error');\n        }\n    }\n    checkTutorial() {\n        if (!this.gameState.settings.tutorial_completed &&\n            !this.gameState.settings.tutorial_skipped_forever) {\n            this.showTutorialModal();\n        }\n    }\n    showTutorialModal() {\n        const modal = document.getElementById('tutorial-modal');\n        modal.classList.add('show');\n    }\n    hideTutorialModal() {\n        const modal = document.getElementById('tutorial-modal');\n        modal.classList.remove('show');\n    }\n}\n// Ініціалізація гри після завантаження DOM\ndocument.addEventListener('DOMContentLoaded', () => {\n    const game = new RiskManagementGame();\n    game.init();\n});\n"],"names":["getCurrentGrade","takes","stops","profit","exactMatch","exports","PROFIT_GRADES","find","g","i","length","profitPct","Object","defineProperty","value","updateProfitGradeDisplay","container","document","getElementById","currentLevelElement","innerHTML","currentGrade","forEach","grade","gradeElement","createElement","className","isAchieved","isCurrent","classList","add","label","description","winRate","appendChild","tutorialManager","start","console","log","alert","get","async","url","response","fetch","data","json","success","Error","error","post","body","method","headers","JSON","stringify","put","showToast","message","type","toast","textContent","setTimeout","style","animation","parentNode","removeChild","id","head","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","api_1","toast_1","profitGrades_1","tutorial_1","RiskManagementGame","constructor","this","gameState","positions","settings","risk_per_position","reward_ratio","tutorial_completed","tutorial_skipped_forever","stats","init","initTheme","loadGameState","setupUI","checkTutorial","savedTheme","localStorage","getItem","systemPrefersDark","window","matchMedia","matches","theme","documentElement","setAttribute","updateThemeToggle","toggleTheme","newTheme","getAttribute","setItem","toggle","Promise","all","calculateStats","createPositionsGrid","updateStatsDisplay","updateSettingsUI","setupEventListeners","grid","position","card","result","toString","dataset","addEventListener","handlePositionClick","positionId","p","states","currentIndex","indexOf","nextState","querySelector","filter","totalPositions","parseFloat","toFixed","updateMotivationMessage","msgEl","saveSettings","resetPositions","hideTutorialModal","riskInput","rewardInput","risk","reward","showTutorialModal","remove"],"sourceRoot":""}